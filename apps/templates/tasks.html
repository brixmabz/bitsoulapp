{% extends "base.html" %}

{% block title %} {{ title }} {% endblock %}

{% block modal %} {% include "partials/add_task_modal.html" %} {% endblock %}

{% block updateModal %} {% include "partials/update_task_modal.html" %} {% endblock %}

{% block content %}

<div style="padding-top: 50px; position: relative" class="row justify-content-center">
  <h1 style="text-align: center;">Task Manager</h1>

  <div class="add-task-btn-container">
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal"> + Add Task
    </button>
  </div>
  <table class="table table-striped table-bordered">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Task</th>
        <th scope="col">Date Created</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for task in tasks %}
      <tr>
        <td>{{ task.task }}</td>
        <td>{{ task.date }}</td>
        <td>
          <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#updateModal"
            onclick="getUpdateData({{task.id}})">Update</button>
          <button type="button" class="btn btn-danger" onclick="deleteTask({{task.id}})">Delete</button>
        </td>
      </tr>
      {% endfor %}
      {% if tasks|length < 1 %} <tr>
        <td colspan="3">No tasks added yet!</td>
        </tr> {% endif %}
    </tbody>
  </table>
</div>

{% endblock %}